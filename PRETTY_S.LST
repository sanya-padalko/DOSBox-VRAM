Turbo Assembler	 Version 4.1	    02/14/26 19:12:30	    Page 1
pretty_s.asm



      1	0000			     .model tiny
      2	0000			     .code
      3				     org 100h
      4
      5				     locals @@
      6
      7	0100  E8 0003		     start:	     call Main
      8	0103  E8 0032				     call Exit
      9
     10
     11				     ;=====================================================
     12				     ; Entry:	     -
     13				     ; Result:	     Program executed
     14				     ; Expected:     -
     15				     ; Destruction:  AX
     16				     ;=====================================================
     17	0106			     Main	     proc
     18
     19	0106  B8 0005				     mov ax, 05h
     20	0109  E8 0007				     call SkipStrings
     21
     22	010C  BB 0003				     mov bx, 3h
     23	010F  E8 000F				     call PrintString
     24
     25	0112  C3				     ret
     26	0113					     endp
     27				     ;-----------------------------------------------------
     28
     29
     30
     31				     ;=====================================================
     32				     ; Entry:	     AX	= count	of empty string	before frame
     33				     ; Result:	     ES	on begin of (AX	+ 1)th string
     34				     ; Expected:     1 < AX < 21, also expect that 2 string will be entered
     35				     ; Destruction:  AX, ES, BX
     36				     ;=====================================================
     37	0113			     SkipStrings     proc
     38
     39	0113  05 0002				     add ax, 02h
     40	0116  BB 000A				     mov bx, 0ah
     41	0119  F7 E3				     mul bx
     42	011B  05 B800				     add ax, 0b800h
     43	011E  8E C0				     mov es, ax
     44
     45	0120  C3				     ret
     46	0121					     endp
     47				     ;-----------------------------------------------------
     48
     49
     50
     51				     ;=====================================================
     52				     ; Entry:	     [80h]     = lenght	of string
     53				     ;		     [81h]     = space
     54				     ;		     [82h-...] = string
     55				     ;		     AH	       = color of string's symbols
     56				     ;		     BX	       = first column, where will be printed string
     57				     ; Result:	     string from command line (without first space) will be printed
Turbo Assembler	 Version 4.1	    02/14/26 19:12:30	    Page 2
pretty_s.asm



     58				     ; Expected:     STRING ISN'T EMPTY	and not	too long ( < 126d symbols)
     59				     ; Destruction:  ES, DI, DS, SI, AL, CL, BX
     60				     ;=====================================================
     61	0121			     PrintString     proc
     62
     63	0121  8B FB				     mov di, bx
     64	0123  D1 E7				     sal di, 1d
     65	0125  BB 0080				     mov bx, 80h
     66	0128  8A 0F				     mov cl, [bx]
     67	012A  FE C9				     dec cl
     68	012C  83 C3 02				     add bx, 02h
     69	012F  8B F3				     mov si, bx
     70
     71	0131  AC			    @@print: lodsb
     72	0132  AB				     stosw
     73
     74	0133  FE C9				     dec cl
     75	0135  75 FA				     jne @@print
     76
     77	0137  C3				     ret
     78	0138					     endp
     79				     ;-----------------------------------------------------
     80
     81
     82
     83				     ;=====================================================
     84				     ; Entry:	     -
     85				     ; Result:	     Program ended
     86				     ; Expected:     -
     87				     ; Destruction:  AX
     88				     ;=====================================================
     89	0138			     Exit	     proc
     90
     91	0138  B8 4C00				     mov ax, 4c00h
     92	013B  CD 21				     int 21h
     93
     94	013D  C3				     ret
     95	013E					     endp
     96				     ;-----------------------------------------------------
     97
     98
     99
    100				     end start
Turbo Assembler	 Version 4.1	    02/14/26 19:12:30	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/14/26"
??FILENAME			  Text	 "pretty_s"
??TIME				  Text	 "19:12:30"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@PRINT				  Near	 DGROUP:0131
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 PRETTY_S
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
EXIT				  Near	 DGROUP:0138
MAIN				  Near	 DGROUP:0106
PRINTSTRING			  Near	 DGROUP:0121
SKIPSTRINGS			  Near	 DGROUP:0113
START				  Near	 DGROUP:0100

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  013E Word	  Public  CODE
