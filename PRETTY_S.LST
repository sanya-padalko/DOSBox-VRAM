Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 1
pretty_s.asm



      1	0000			     .model tiny
      2	0000			     .code
      3				     org 100h
      4
      5	      =000A		     STR_BEF_FRAME   equ 10d
      6
      7	      =009E		     STRING_COLOR    equ 9eh
      8	      =008A		     FRAME_HOR_COL   equ 8ah
      9	      =008A		     FRAME_WALL_COL  equ 8ah
     10	      =008E		     INT_FRAME_COL   equ 8eh	     ; color of	internal frame
     11	      =008A		     STR_BOUND_COL   equ 8ah
     12
     13	      =0002		     SYMB_OFFSET     equ 2d
     14	      =0002		     ARGUE_SIZE	     equ 2h
     15	      =4C00		     END_CODE	     equ 4c00h
     16	      =000A		     ES_STR_DELTA    equ 10d	     ; delta for ES to change string
     17	      =B800		     VMEM_ADDRESS    equ 0b800h
     18
     19				     locals @@
     20
     21	0100  E8 0003		     start:	     call Main
     22	0103  E8 01FD				     call Exit
     23
     24
     25				     ;=====================================================
     26				     ; Entry:	     -
     27				     ;
     28				     ; Result:	     Program executed
     29				     ;
     30				     ; Expected:     -
     31				     ;
     32				     ; Destruction:  AX, BX, CX, DX, ES, DI, DS, SI, CL
     33				     ;=====================================================
     34	0106			     Main	     proc
     35
     36	0106  BB 0081				     mov bx, 81h
     37	0109  E8 01E9				     call SkipSpaces
     38	010C  E8 01B7				     call GetNumber	     ; AX = len	of string
     39	010F  E8 01E3				     call SkipSpaces
     40	0112  8B C8				     mov cx, ax
     41
     42	0114  53				     push bx		     ; save index of string's begin
     43
     44	0115  B8 000A				     mov ax, STR_BEF_FRAME
     45	0118  E8 0175				     call SkipStrings
     46	011B  80 C1 02				     add cl, 2d
     47	011E  E8 0191				     call CalcOffset
     48
     49	0121  BB 0308r				     mov bx, offset FRAME_TYPES
     50	0124  E8 0028				     call DrawExtFrame
     51	0127  E8 0052				     call DrawIntFrame
     52	012A  5A				     pop dx
     53	012B  E8 0001				     call PrintBdString
     54
     55	012E  C3				     ret
     56	012F					     endp
     57				     ;-----------------------------------------------------
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 2
pretty_s.asm



     58
     59
     60
     61				     ;=====================================================
     62				     ; Entry:	     CX	     = len of string
     63				     ;		     DX	     = index of	string's begin
     64				     ;
     65				     ; Result:	     Printing bounded string
     66				     ;
     67				     ; Expected:     ES:[DI] = right shift and offset
     68				     ;
     69				     ; Destruction:  AX, BX, CX, DI, SI
     70				     ;=====================================================
     71	012F			     PrintBdString   proc
     72
     73	012F  53				     push bx
     74	0130  B4 8A				     mov ah, STR_BOUND_COL
     75	0132  8A 07				     mov al, [bx]
     76	0134  43				     inc bx
     77	0135  AB				     stosw
     78	0136  B4 9E				     mov ah, STRING_COLOR
     79	0138  8B DA				     mov bx, dx
     80	013A  E8 0008				     call PrintString
     81	013D  5B				     pop bx
     82	013E  B4 8A				     mov ah, STR_BOUND_COL
     83	0140  8A 07				     mov al, [bx]
     84	0142  43				     inc bx
     85	0143  AB				     stosw
     86
     87	0144  C3				     ret
     88	0145					     endp
     89				     ;-----------------------------------------------------
     90
     91
     92
     93				     ;=====================================================
     94				     ; Entry:	     CX	       = lenght	of string
     95				     ;		     BX	       = index of first	string symbol
     96				     ;		     AH	       = color of string's symbols
     97				     ;		     ES:[DI]   = index of memory, from which printing will start
     98				     ;
     99				     ; Result:	     print string from command line (without first space)
    100				     ;		     started from es:[di]
    101				     ;
    102				     ; Expected:     STRING ISN'T EMPTY	and not	too long ( < 126d symbols)
    103				     ;		     ES:[DI]   = right shift and offset	(on first symbol after string)
    104				     ;		     DS:[SI]   = first symbol after string
    105				     ;		     DX	       = 0
    106				     ;		     AL	       = last string symbol
    107				     ;
    108				     ;
    109				     ; Destruction:  DI, SI, AL, DX
    110				     ;=====================================================
    111	0145			     PrintString     proc
    112
    113	0145  8B F3				     mov si, bx
    114	0147  8B D1				     mov dx, cx
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 3
pretty_s.asm



    115
    116	0149  AC			    @@print: lodsb
    117	014A  AB				     stosw
    118
    119	014B  4A				     dec dx
    120	014C  75 FB				     jne @@print
    121
    122	014E  C3				     ret
    123	014F					     endp
    124				     ;-----------------------------------------------------
    125
    126
    127
    128				     ;=====================================================
    129				     ; Entry:	     -
    130				     ;
    131				     ; Result:	     External frame will be drawing
    132				     ;		     ES:[DI] = old ES:[DI] shifted to the right	down diagonally
    133				     ;		     CX	     = len of string inside frame
    134				     ;
    135				     ; Expected:     ES:[DI] = right shift and offset
    136				     ;
    137				     ; Destruction:  AX, BX, CX, DX, DI, SI, ES
    138				     ;=====================================================
    139	014F			     DrawExtFrame    proc
    140
    141	014F  B4 8A				     mov ah, FRAME_HOR_COL
    142	0151  50 55 8B EC C7 46	02+		     push 3h			     ; empty_strings
    143	      0003 5D
    144	015B  51				     push cx			     ; len of hor line
    145	015C  8A 07				     mov al, [bx]
    146	015E  43				     inc bx
    147	015F  50				     push ax
    148	0160  8A 07				     mov al, [bx]
    149	0162  43				     inc bx
    150	0163  50				     push ax
    151	0164  B1 8A				     mov cl, FRAME_HOR_COL
    152	0166  E8 0090				     call DrawHorLines		     ; external	frame's	upside and downside
    153	0169  B8 0001				     mov ax, 1d
    154	016C  E8 0133				     call ChangeString
    155
    156	016F  B4 8A				     mov ah, FRAME_WALL_COL
    157	0171  51				     push cx
    158	0172  E8 0028				     call DrawWalls		     ; external	frame's	walls
    159	0175  83 E9 02				     sub cx, 2d
    160	0178  83 C7 02				     add di, SYMB_OFFSET
    161
    162	017B  C3				     ret
    163	017C					     endp
    164				     ;-----------------------------------------------------
    165
    166
    167
    168				     ;=====================================================
    169				     ; Entry:	     -
    170				     ;
    171				     ; Result:	     Internal frame will be drawing
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 4
pretty_s.asm



    172				     ;
    173				     ; Expected:     ES:[DI] = right shift and offset
    174				     ;
    175				     ; Destruction:  AX, BX, CX, DX, DI, ES
    176				     ;=====================================================
    177	017C			     DrawIntFrame    proc
    178
    179	017C  B4 8E				     mov ah, INT_FRAME_COL
    180	017E  50 55 8B EC C7 46	02+		     push 1h
    181	      0001 5D
    182	0188  51				     push cx
    183	0189  8A 07				     mov al, [bx]
    184	018B  43				     inc bx
    185	018C  50				     push ax
    186	018D  8A 07				     mov al, [bx]
    187	018F  43				     inc bx
    188	0190  50				     push ax
    189	0191  B1 8E				     mov cl, INT_FRAME_COL
    190	0193  E8 0063				     call DrawHorLines		     ; internal	frame
    191	0196  B8 0001				     mov ax, 1d
    192	0199  E8 0106				     call ChangeString
    193
    194	019C  C3				     ret
    195	019D					     endp
    196				     ;-----------------------------------------------------
    197
    198
    199
    200				     ;=====================================================
    201				     ; Entry:	     AX		     = wall's symbol
    202				     ;		     BX		     = left central wall's symbol
    203				     ;		     CX		     = right central wall's symbol
    204				     ;	     [stack] len     = length of skipped symbols between walls
    205				     ;
    206				     ; Result:	     BX	= index	of first unused	frame symbol
    207				     ;		     (exp.: [BX] = upleft angle	of int.	frame)
    208				     ;		     SI	     = wall's symbol
    209				     ;		     BX	     = AX
    210				     ;		     CX	     = len
    211				     ;
    212				     ; Expected:     DI		      =	right offset
    213				     ;			     [BX]     =	wall's symbol
    214				     ;			     [BX + 1] =	central	right wall symbol
    215				     ;			     [BX + 2] =	central	left wall symbol
    216				     ;
    217				     ; Distruction:  BX, SI, CX
    218				     ;=====================================================
    219	019D			     DrawWalls	     proc    len
    220	019D  55				     push bp
    221	019E  8B EC				     mov bp, sp
    222
    223	01A0  B4 8A				     mov ah, FRAME_WALL_COL
    224	01A2  8A 07				     mov al, [bx]	     ; draw first walls
    225	01A4  43				     inc bx
    226	01A5  8B F0				     mov si, ax
    227	01A7  8B C8				     mov cx, ax
    228	01A9  FF 76 04				     push len
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 5
pretty_s.asm



    229	01AC  E8 0033				     call DrawEmpWalls
    230	01AF  B8 0001				     mov ax, 1d
    231	01B2  E8 00ED				     call ChangeString
    232
    233	01B5  B4 8A				     mov ah, FRAME_WALL_COL
    234	01B7  8A 07				     mov al, [bx]	     ; draw second walls
    235	01B9  43				     inc bx
    236	01BA  B5 8A				     mov ch, FRAME_WALL_COL
    237	01BC  8A 0F				     mov cl, [bx]
    238	01BE  43				     inc bx
    239	01BF  FF 76 04				     push len
    240	01C2  E8 001D				     call DrawEmpWalls
    241	01C5  B8 0001				     mov ax, 1d
    242	01C8  E8 00D7				     call ChangeString
    243
    244	01CB  8B C6				     mov ax, si			     ; draw third walls
    245	01CD  8B CE				     mov cx, si
    246	01CF  FF 76 04				     push len
    247	01D2  E8 000D				     call DrawEmpWalls
    248	01D5  B8 FFFE				     mov ax, -2d
    249	01D8  E8 00C7				     call ChangeString
    250
    251	01DB  5D				     pop bp			     ; stack clearing
    252	01DC  58				     pop ax
    253	01DD  59				     pop cx
    254	01DE  50				     push ax
    255	01DF  8B C2				     mov ax, dx
    256	01E1  C3				     ret
    257	01E2					     endp
    258				     ;-----------------------------------------------------
    259
    260
    261
    262				     ;=====================================================
    263				     ; Entry:	     AX	     = left wall symbol
    264				     ;		     CX	     = right wall symbol
    265				     ;	     [stack] len     = count of	empty symbols between walls
    266				     ;
    267				     ; Result:	     AX	     = returning address
    268				     ;		     CX	= 2 * len
    269				     ;
    270				     ; Expected:     DI	     = right offset
    271				     ;
    272				     ; Destruction:  AX, CX
    273				     ;=====================================================
    274	01E2			     DrawEmpWalls    proc len
    275	01E2  55				     push bp
    276	01E3  8B EC				     mov bp, sp
    277
    278	01E5  57				     push di
    279	01E6  AB				     stosw		     ; left wall
    280	01E7  8B C1				     mov ax, cx
    281	01E9  8B 4E 04				     mov cx, len
    282	01EC  D1 E1				     sal cx, 1d
    283	01EE  03 F9				     add di, cx		     ; skip empty columns
    284	01F0  AB				     stosw		     ; right wall
    285	01F1  5F				     pop di
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 6
pretty_s.asm



    286
    287	01F2  5D				     pop bp
    288	01F3  58				     pop ax
    289	01F4  83 C4 02				     add sp, 1 * ARGUE_SIZE
    290	01F7  50				     push ax
    291	01F8  C3				     ret
    292	01F9					     endp
    293				     ;-----------------------------------------------------
    294
    295
    296
    297				     ;=====================================================
    298				     ; Entry:	     CL	= color	of horisontal lines (in	little byte)
    299				     ;	     [stack] mid1    = symbol of middle	of upside
    300				     ;	     [stack] mid2    = symbol of middle	of downside
    301				     ;	     [stack] len     = len of middle part
    302				     ;	     [stack] emp_str = the count of string between horisontal lines
    303				     ;
    304				     ; Result:	     AX	     = returning address
    305				     ;		     BX	     = first unused frame symbol
    306				     ;		     SI	     = old CX (from Entry)
    307				     ;		     CX	     = len
    308				     ;
    309				     ; Expected:     argument's	direction -> CDECL, len	>= 0
    310				     ;		     DI	     = right offset
    311				     ;
    312				     ; Destruction:  AX, BX, CX, DX, SI
    313				     ;=====================================================
    314	01F9			     DrawHorLines    proc    mid1, mid2, len, emp_str
    315	01F9  55				     push bp
    316	01FA  8B EC				     mov bp, sp
    317
    318	01FC  B5 00				     mov ch, 0h
    319	01FE  8B F1				     mov si, cx
    320
    321	0200  8A E1				     mov ah, cl
    322	0202  8A 07				     mov al, [bx]
    323	0204  43				     inc bx
    324	0205  50				     push ax
    325	0206  8A 07				     mov al, [bx]
    326	0208  43				     inc bx
    327	0209  50				     push ax
    328	020A  FF 76 04				     push mid1
    329	020D  FF 76 08				     push len
    330	0210  57				     push di
    331	0211  E8 0045				     call BoundedHorLine
    332	0214  8B 46 0A				     mov ax, emp_str
    333	0217  05 0001				     add ax, 1d
    334	021A  E8 0085				     call ChangeString	     ; first hor line and skipped empty	strings
    335
    336	021D  8B C6				     mov ax, si
    337	021F  D1 E0 D1 E0 D1 E0	D1+		     sal ax, 8h
    338	      E0 D1 E0 D1 E0 D1	E0+
    339	      D1 E0
    340	022F  8A 07				     mov al, [bx]
    341	0231  43				     inc bx
    342	0232  50				     push ax
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 7
pretty_s.asm



    343	0233  8A 07				     mov al, [bx]
    344	0235  43				     inc bx
    345	0236  50				     push ax
    346	0237  FF 76 06				     push mid2
    347	023A  FF 76 08				     push len
    348	023D  57				     push di
    349	023E  E8 0018				     call BoundedHorLine
    350	0241  8B 46 0A				     mov ax, emp_str
    351	0244  B9 FFFF				     mov cx, -1d
    352	0247  F7 E1				     mul cx
    353	0249  2D 0001				     sub ax, 1d
    354	024C  E8 0053				     call ChangeString	     ; second hor line and returning to	begin
    355	024F  8B 4E 08				     mov cx, len
    356
    357	0252  5D				     pop bp
    358	0253  58				     pop ax
    359	0254  83 C4 08				     add sp, 4h	* ARGUE_SIZE ; stack clearing
    360	0257  50				     push ax
    361	0258  C3				     ret
    362	0259					     endp
    363				     ;-----------------------------------------------------
    364
    365
    366
    367				     ;=====================================================
    368				     ; BoundedHorLine(lbound, rbound, symb, len, ind)
    369				     ;
    370				     ; Entry:[stack] lbound  = symbol for line's start
    371				     ;	     [stack] rbound  = symbol for line's end
    372				     ;	     [stack] symb    = symbol of line's	middle
    373				     ;	     [stack] len     = len of line's middle
    374				     ;	     [stack] ind     = index from which	line will be printing (es:[ind])
    375				     ;
    376				     ; Result:	     DI	     = ind
    377				     ;		     AX	     = returing	address
    378				     ;		     CX	     = 0
    379				     ;
    380				     ; Expected:     argument's	direction -> Pascal, len >= 0
    381				     ;
    382				     ; Destruction:  AX, CX
    383				     ;=====================================================
    384	0259			     BoundedHorLine  proc
    385
    386	0259  55				     push bp
    387	025A  8B EC				     mov bp, sp
    388
    389	025C  8B 7E 04				     mov di, [bp + 4]
    390	025F  8B 4E 06				     mov cx, [bp + 6]
    391	0262  8B 46 0C				     mov ax, [bp + 12]
    392	0265  AB				     stosw		     ; left bound symbol
    393	0266  8B 46 08				     mov ax, [bp + 8]
    394	0269  57				     push di
    395	026A  51				     push cx
    396	026B  50				     push ax
    397	026C  E8 0011				     call DrawHorLine		     ; horisontal line
    398	026F  8B 46 0A				     mov ax, [bp + 10]
    399	0272  AB				     stosw		     ; right bound symbol
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 8
pretty_s.asm



    400
    401	0273  5F				     pop di
    402	0274  5F				     pop di
    403	0275  5F				     pop di
    404
    405	0276  83 EF 02				     sub di, SYMB_OFFSET
    406
    407	0279  5D				     pop bp
    408	027A  58				     pop ax
    409	027B  83 C4 0A				     add sp, 5h	* ARGUE_SIZE
    410	027E  50				     push ax
    411	027F  C3				     ret
    412	0280					     endp
    413				     ;-----------------------------------------------------
    414
    415
    416
    417				     ;=====================================================
    418				     ; DrawHorLine(symb, len, ind)
    419				     ;
    420				     ; Entry:[stack] symb    = symbol which will be printing
    421				     ;	     [stack] len     = len of line
    422				     ;	     [stack] ind     = index of	memory,	from which hor line will be drawing
    423				     ;		     (real index = es:[ind])
    424				     ;
    425				     ; Result:	     ES:[DI] = index of	first byte after horisontal line
    426				     ;		     CX	     = 0
    427				     ;		     AX	     = symb
    428				     ;
    429				     ; Expected:     argument direction	-> CDECL, len >= 0
    430				     ;
    431				     ; Destruction:  AX, CX, DI
    432				     ;=====================================================
    433	0280			     DrawHorLine     proc symb,	len, ind
    434
    435	0280  55				     push bp
    436	0281  8B EC				     mov bp, sp
    437
    438	0283  8B 46 04				     mov ax, symb
    439	0286  8B 4E 06				     mov cx, len
    440	0289  8B 7E 08				     mov di, ind
    441
    442	028C  F3> AB				     rep stosw
    443
    444	028E  5D				     pop bp
    445	028F  C3				     ret
    446	0290					     endp
    447				     ;-----------------------------------------------------
    448
    449
    450
    451				     ;=====================================================
    452				     ; Entry:	     AX	     = count of	empty string before frame
    453				     ;
    454				     ; Result:	     ES	on begin of (AX	+ 1)th string
    455				     ;
    456				     ; Expected:     1 < AX < 21, also expect that 2 string will be entered
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 9
pretty_s.asm



    457				     ;
    458				     ; Destruction:  AX, ES
    459				     ;=====================================================
    460	0290			     SkipStrings     proc
    461
    462	0290  53				     push bx
    463	0291  52				     push dx
    464
    465	0292  05 0002				     add ax, 02h
    466	0295  BB 000A				     mov bx, ES_STR_DELTA
    467	0298  F7 E3				     mul bx
    468	029A  05 B800				     add ax, VMEM_ADDRESS
    469	029D  8E C0				     mov es, ax
    470
    471	029F  5A				     pop dx
    472	02A0  5B				     pop bx
    473
    474	02A1  C3				     ret
    475	02A2					     endp
    476				     ;-----------------------------------------------------
    477
    478
    479
    480				     ;=====================================================
    481				     ; Entry:	     AX	     = the number of lines to change to
    482				     ;
    483				     ; Result:	     ES	     = old ES +	AX strings
    484				     ;		     AX	     = ES
    485				     ;
    486				     ; Expected:     ES	     = right shift
    487				     ;
    488				     ; Destruction:  ES, AX
    489				     ;=====================================================
    490	02A2			     ChangeString    proc
    491
    492	02A2  53				     push bx
    493	02A3  52				     push dx
    494	02A4  BB 000A				     mov bx, ES_STR_DELTA
    495	02A7  F7 E3				     mul bx
    496
    497	02A9  8C C3				     mov bx, es
    498	02AB  03 C3				     add ax, bx
    499	02AD  8E C0				     mov es, ax
    500
    501	02AF  5A				     pop dx
    502	02B0  5B				     pop bx
    503	02B1  C3				     ret
    504	02B2					     endp
    505				     ;-----------------------------------------------------
    506
    507
    508
    509				     ;=====================================================
    510				     ; Entry:	     CX	     = length of string
    511				     ;
    512				     ; Result:	     DI	     = right offset for	string with len	CX
    513				     ;
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 10
pretty_s.asm



    514				     ; Expected:     0 <= CX < 76d
    515				     ;
    516				     ; Destruction:  DI
    517				     ;=====================================================
    518	02B2			     CalcOffset	     proc
    519
    520	02B2  BF 004C				     mov di, 76d
    521	02B5  2B F9				     sub di, cx
    522	02B7  D1 EF				     shr di, 1d
    523	02B9  D1 E7				     sal di, 1d
    524
    525	02BB  C3				     ret
    526	02BC					     endp
    527				     ;-----------------------------------------------------
    528
    529
    530
    531				     ;=====================================================
    532				     ; Entry:	     [80h]   = length of string
    533				     ;
    534				     ; Result:	     CX	     = length of string
    535				     ;		     BX	     = 80h
    536				     ;
    537				     ; Expected:     -
    538				     ;
    539				     ; Destruction:  BX, CX
    540				     ;=====================================================
    541	02BC			     GetLength	     proc
    542
    543	02BC  BB 0080				     mov bx, 80h
    544	02BF  8A 0F				     mov cl, [bx]
    545	02C1  B5 00				     mov ch, 0h
    546	02C3  FE C9				     dec cl
    547
    548	02C5  C3				     ret
    549	02C6					     endp
    550				     ;-----------------------------------------------------
    551
    552
    553
    554				     ;=====================================================
    555				     ; Entry:	     [BX]    = first symbol of number
    556				     ;
    557				     ; Result:	     AX	     = number (or [80h]	if [BX]	!= digit)
    558				     ;		     BX	     = first index after number	(or old	BX if [BX] != digit)
    559				     ;
    560				     ; Expected:     [BX]    = digit
    561				     ;		     Number separates spaces
    562				     ;
    563				     ; Destruction:  AX, BX, SI
    564				     ;=====================================================
    565	02C6			     GetNumber	     proc
    566
    567	02C6  52				     push dx
    568	02C7  B8 0000				     mov ax, 0h
    569
    570	02CA  80 3F 30				     cmp byte ptr [bx],	'0'
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 11
pretty_s.asm



    571	02CD  72 1D				     jb	@@not_num
    572	02CF  80 3F 39				     cmp byte ptr [bx],	'9'
    573	02D2  77 18				     ja	@@not_num
    574
    575	02D4  8B F3			     @@base: mov si, bx
    576
    577	02D6  BB 000A			     @@add_c:mov bx, 10d
    578	02D9  F7 E3				     mul bx
    579	02DB  02 04				     add al, byte ptr [si]
    580	02DD  2C 30				     sub al, '0'
    581	02DF  83 C6 01				     add si, 1h
    582	02E2  80 3C 20				     cmp byte ptr [si],	' '
    583	02E5  75 EF				     jne @@add_c
    584
    585	02E7  8B DE				     mov bx, si
    586	02E9  EB 08 90				     jmp @@end
    587
    588	02EC  BE 0080		       @@not_num:    mov si, 80h
    589	02EF  8A 04				     mov al, byte ptr [si]
    590	02F1  2C 01				     sub al, 1d
    591
    592	02F3  5A			     @@end:  pop dx
    593	02F4  C3				     ret
    594	02F5					     endp
    595				     ;-----------------------------------------------------
    596
    597
    598
    599				     ;=====================================================
    600				     ; Entry:	     BX	     = starting	index from which skipping spaces
    601				     ;
    602				     ; Result:	     [BX]    !=	symbol of space
    603				     ;
    604				     ; Expected:     80h <= BX < 100h
    605				     ;
    606				     ; Destruction:  BX
    607				     ;=====================================================
    608	02F5			     SkipSpaces	     proc
    609
    610	02F5  80 3F 20				     cmp byte ptr [bx],	' '
    611	02F8  75 08				     jne @@not_space
    612
    613	02FA  83 C3 01			     @@skip: add bx, 1h
    614	02FD  80 3F 20				     cmp byte ptr [bx],	' '
    615	0300  74 F8				     je	@@skip
    616
    617	0302			     @@not_space:
    618	0302  C3				     ret
    619	0303					     endp
    620				     ;-----------------------------------------------------
    621
    622
    623
    624				     ;=====================================================
    625				     ; Entry:	     -
    626				     ; Result:	     Program ended
    627				     ; Expected:     -
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 12
pretty_s.asm



    628				     ; Destruction:  AX
    629				     ;=====================================================
    630	0303			     Exit	     proc
    631
    632	0303  B8 4C00				     mov ax, END_CODE
    633	0306  CD 21				     int 21h
    634
    635	0308					     endp
    636				     ;-----------------------------------------------------
    637
    638	0308  C4 3F 2F 5C 5C 2F	B3+  FRAME_TYPES     db	'Ä?/\\/³Ã´ÄÄÚ¿ÀÙÄÄ', 'ÄÄÚ¿ÀÙ³Ã´ÄÄÚ¿ÀÙÄÄ'
    639	      C3 B4 C4 C4 DA BF	C0+
    640	      D9 C4 C4 C4 C4 DA	BF+
    641	      C0 D9 B3 C3 B4 C4	C4+
    642	      DA BF C0 D9 C4 C4
    643
    644
    645				     end start
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 13
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/19/26"
??FILENAME			  Text	 "pretty_s"
??TIME				  Text	 "00:20:47"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@ADD_C				  Near	 DGROUP:02D6
@@BASE				  Near	 DGROUP:02D4
@@END				  Near	 DGROUP:02F3
@@NOT_NUM			  Near	 DGROUP:02EC
@@NOT_SPACE			  Near	 DGROUP:0302
@@PRINT				  Near	 DGROUP:0149
@@SKIP				  Near	 DGROUP:02FA
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 PRETTY_S
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
ARGUE_SIZE			  Number 0002
BOUNDEDHORLINE			  Near	 DGROUP:0259
CALCOFFSET			  Near	 DGROUP:02B2
CHANGESTRING			  Near	 DGROUP:02A2
DRAWEMPWALLS			  Near	 DGROUP:01E2
DRAWEXTFRAME			  Near	 DGROUP:014F
DRAWHORLINE			  Near	 DGROUP:0280
DRAWHORLINES			  Near	 DGROUP:01F9
DRAWINTFRAME			  Near	 DGROUP:017C
DRAWWALLS			  Near	 DGROUP:019D
EMP_STR				  Number [DGROUP:BP+000A]
END_CODE			  Number 4C00
ES_STR_DELTA			  Number 000A
EXIT				  Near	 DGROUP:0303
FRAME_HOR_COL			  Number 008A
FRAME_TYPES			  Byte	 DGROUP:0308
FRAME_WALL_COL			  Number 008A
GETLENGTH			  Near	 DGROUP:02BC
GETNUMBER			  Near	 DGROUP:02C6
IND				  Number [DGROUP:BP+0008]
INT_FRAME_COL			  Number 008E
LEN				  Number [DGROUP:BP+0006]
MAIN				  Near	 DGROUP:0106
MID1				  Number [DGROUP:BP+0004]
MID2				  Number [DGROUP:BP+0006]
PRINTBDSTRING			  Near	 DGROUP:012F
PRINTSTRING			  Near	 DGROUP:0145
SKIPSPACES			  Near	 DGROUP:02F5
SKIPSTRINGS			  Near	 DGROUP:0290
START				  Near	 DGROUP:0100
STRING_COLOR			  Number 009E
Turbo Assembler	 Version 4.1	    02/19/26 00:20:48	    Page 14
Symbol Table



STR_BEF_FRAME			  Number 000A
STR_BOUND_COL			  Number 008A
SYMB				  Number [DGROUP:BP+0004]
SYMB_OFFSET			  Number 0002
VMEM_ADDRESS			  Number B800

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  032A Word	  Public  CODE
